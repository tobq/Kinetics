<html>
  <head>
    <style>body, html, canvas {
			margin: 0px;
			padding: 0px;
			height: 100%;
			width: 100%;
			display: block;
			-ms-content-zooming: none;
			-ms-touch-action: none;
			-ms-overflow-style: none;
			touch-action: none;
			background-color: #1F5AAC;
		}
    </style>
  </head>
  <body>
      <canvas></canvas>
    <script>
      var c,f;window.onmouseup=window.ontouchend=window.ontouchcancel=function(){h=!0};window.onmousedown=window.ontouchstart=function(a){k=[a.pageX,a.pageY];l=Date.now();h=!1};window.onmousemove=window.ontouchmove=function(a){if(!h){var b=Date.now(),d=b-l;if(d)for(var r=(a.pageX-k[0])/d,d=(a.pageY-k[1])/d,e=m.length;e--;)m[e].a.x+=r,m[e].a.y+=d;k=[a.pageX,a.pageY];l=b}};function p(a,b){this.x=a;this.y=b}function q(a){return new p(a.x,a.y)}p.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};
function t(a,b){a.x-=b.x;a.y-=b.y;return a}function v(a,b){a.x/=b;a.y/=b;return a}p.prototype.multiply=function(a){this.x*=a.x;this.y*=a.y;return this};function w(a,b){a.x*=b;a.y*=b;return a}function x(a,b){return a.x*b.x+a.y*b.y}p.prototype.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};p.prototype.random=function(){this.x*=Math.random();this.y*=Math.random();return this};
p.prototype.bound=function(a,b,d){if(this[a]<b)this[a]=Math.min(d,2*b-this[a]);else if(this[a]>d)this[a]=Math.max(b,2*d-this[a]);else return!0};
function y(a){a||(a={});this.f=a.f||"black";this.coords=a.coords;this.a=new p(0,0);this.b=a.b||20;this.g=a.g||1;this.h=2*this.b;this.c=this.b*this.b*this.g;if(!this.coords){a=this.b;var b=new p(B[2],B[3]);b.x-=a;b.y-=a;this.coords=b.random()}this.index=C.length;C.push(this);D<this.h&&(D=this.h,E());F(this);a=6*this.index;G[a+2]=this.h;G[a+3]=parseInt(this.f.substr(1,2),16)/255;G[a+4]=parseInt(this.f.substr(3,2),16)/255;G[a+5]=parseInt(this.f.substr(5,2),16)/255}
function F(a){void 0===a.coords.bound("x",a.b,B[2]-a.b)&&(a.a.x*=H);void 0===a.coords.bound("y",a.b,B[3]-a.b)&&(a.a.y*=H);Math.abs(a.a.x)<I&&(a.a.x=0);Math.abs(a.a.y)<I&&(a.a.y=0);a.j=J[Math.ceil(a.coords.x/D)-1][Math.ceil(a.coords.y/D)-1];a.j.push(a);var b=6*a.index;G[b]=a.coords.x;G[b+1]=a.coords.y}function E(){J=[];for(var a=Math.ceil(B[2]/D);a--;){J[a]=[];for(var b=Math.ceil(B[3]/D);b--;)J[a][b]=[]}}
for(var K=.999,H=-.9,I=.005,B=[25,25,window.innerWidth-50,window.innerHeight-50],C=[],J=[],D=0,G=[],m=[],k=[0,0],h=!0,l=Date.now(),M=document.getElementsByTagName("canvas")[0],N=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)},K=1,H=-1,aa=2;aa--;){var O={b:3,g:4,f:"#8E4C33"};O.b||(O.b=20);O.g||(O.g=4);m.push(new y(O))}for(var ba=1E4;ba--;)new y({b:3,f:"#1E32"+(100+Math.floor(100*Math.random())).toString(16)});
setInterval(function(){for(var a=J.length;a--;)for(var b=J[a].length,d=a===J.length-1?1:2;b--;)for(var r=J[a][b].length;r--;){for(var e=J[a][b][r],z=d;z--;)for(var u=a+z,T=b===J[a].length-1?[b-1,b]:1===z&&0!==b?[b-1,b,b+1]:[b,b+1],U=T.length;U--;)for(var V=T[U],W=J[u][V].length;W--;){var g=J[u][V][W];if(g!==e){var n=t(q(e.coords),g.coords),A=x(n,n),n=v(q(n),Math.sqrt(x(n,n)));if(A<(e.b+g.b)*(e.b+g.b)&&0!==A){if(e.a.x||e.a.y||g.a.x||g.a.y){var X=w(q(n),2*x(e.a,n)),L=w(q(n),x(g.a,n)),Y=v(w(q(X),e.c).add(w(q(L),
g.c-e.c)),g.c+e.c);t(e.a.add(Y).add(L),X);t(g.a.add(Y),L)}A=w(n,(e.b+g.b-Math.sqrt(A))/(e.c+g.c));e.coords.add(w(q(A),g.c));t(g.coords,w(A,e.c))}}}e.coords.add(e.a);w(e.a,K)}E();for(a=C.length;a--;)F(C[a])},1E3/60);"use strict";var P={alpha:!1,antialias:!0},Q=M.getContext("webgl",P)||M.getContext("experimental-webgl",P),R;
function ca(a,b){var d=Q.createShader(a);Q.shaderSource(d,b);Q.compileShader(d);if(Q.getShaderParameter(d,Q.COMPILE_STATUS))return d;console.error("ERROR compiling vertex shader: "+Q.getShaderInfoLog(d));Q.deleteShader(d)}function S(a,b,d){a=Q.getAttribLocation(c,a);Q.vertexAttribPointer(a,b,f.type,!1,f.i,d);Q.enableVertexAttribArray(a)}
if(Q){f={type:null,i:0};R=function(){Q.bufferSubData(Q.ARRAY_BUFFER,0,new Float32Array(G));Q.clear(Q.COLOR_BUFFER_BIT);Q.drawArrays(Q.POINTS,0,4*G.length/f.i);return N(R)};window.onresize=function(){M.width=window.innerWidth;M.height=window.innerHeight;Q.viewport(0,0,M.width,M.height);Q.uniform2f(da,M.width,M.height);B=[25,25,window.innerWidth-50,window.innerHeight-50];E();Q.uniform2f(ea,B[0],B[1])};var fa=ca(Q.VERTEX_SHADER,"precision mediump float;\nattribute vec2 coords;\nattribute float radius;\nattribute vec3 colour;\nvarying vec3 fragColor;\nuniform vec2 screen;\nuniform vec2 board;\nvoid main()\n{\n  fragColor = colour;\n  gl_PointSize = radius;\n  gl_Position = vec4((board + coords) * vec2(2.0,-2.0) / screen + vec2(-1.0,1.0), 0.0, 1.0);\n}"),
ga=ca(Q.FRAGMENT_SHADER,"precision mediump float;\nvarying vec3 fragColor;\nuniform vec2 screen;\nuniform vec2 board;\nvoid main()\n{\n  vec2 dist = 2.0 * gl_PointCoord - 1.0;\n  if (dot(dist, dist) > 1.0) discard;\n  gl_FragColor = vec4(fragColor, 1.0);\n}");c=Q.createProgram();Q.attachShader(c,fa);Q.attachShader(c,ga);Q.linkProgram(c);if(!Q.getProgramParameter(c,Q.LINK_STATUS))throw"ERROR linking program! "+Q.getProgramInfoLog(c);Q.validateProgram(c);if(!Q.getProgramParameter(c,Q.VALIDATE_STATUS))throw"ERROR validating program! "+
Q.getProgramInfoLog(c);Q.clearColor(31/255,90/255,172/255,1);Q.useProgram(c);var ha=Q.createBuffer();Q.bindBuffer(Q.ARRAY_BUFFER,ha);f.type=Q.FLOAT;f.i=24;S("coords",2,0);S("radius",1,8);S("colour",3,12);var da=Q.getUniformLocation(c,"screen"),ea=Q.getUniformLocation(c,"board");Q.bufferData(Q.ARRAY_BUFFER,new Float32Array(G),Q.DYNAMIC_DRAW)}else{window.onresize=function(){M.width=window.innerWidth;M.height=window.innerHeight;Z.strokeStyle="green";Z.lineWidth=3;B=[25,25,window.innerWidth-50,window.innerHeight-
50];E()};var Z=M.getContext("2d");R=function(){for(var a=Z.createImageData(B[2],B[3]),b=C.length;b--;)for(var d=C[b],r=d.h,e=6*d.index;r--;)for(var z=d.h;z--;){var u=4*(~~(d.coords[0]-d.b+r)+~~(d.coords[1]-d.b+z)*B[2]);a.data[u]=255*G[e+3];a.data[u+1]=255*G[e+4];a.data[u+2]=255*G[e+5];a.data[u+3]=255}Z.putImageData(a,B[0],B[1]);return N(R)}}onresize();R();
    </script>
  </body>
</html>
